{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harpoon(Guest) - {{title|default:'Dashboard'}}</title>

    <!--FAVICON-->
    <link rel="icon" href="{% static 'authentication/img/favicon.png' %}" type="image/png" sizes="16x16" />

    <!--JQUERY-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

    <!--CALENDAR-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.0.1/fullcalendar.css" rel="stylesheet" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <link rel='stylesheet' href="{% static 'charter/assets/plugin/fullcalendar.min.css' %}" />
    <script rel='stylesheet' href="{% static 'charter/assets/plugin/fullcalendar.min.js' %}"> </script>
    <link rel="stylesheet" href="{% static 'authentication/css/main.css' %}" />
    <link rel="stylesheet" href="{% static 'authentication/css/custom_calendar.css' %}" />
    <script src="https://unpkg.com/htmx.org@1.5.0"
        integrity="sha384-oGA+prIp5Vchu6we2YkI51UtVzN9Jpx2Z7PnR1I78PnZlN8LkrCT4lqqqmDkyrvI"
        crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/js/tempusdominus-bootstrap-4.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/css/tempusdominus-bootstrap-4.min.css" />


    <!--BOOTSTRAP-->
    <link rel="stylesheet" href="{% static 'authentication/css/bootstrap.min.css' %}" />
    <script rel="stylesheet" href="{% static 'authentication/js/popper.min.js' %}">
    </script>
    <script rel="stylesheet" href="{% static 'authentication/js/bootstrap.min.js' %}">
    </script>

    {% block css %}
    <!--FONTAWESOME 5-->
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.8.2/css/all.css"
        integrity="sha384-xVVam1KS4+Qt2OrFa+VdRUoXygyKIuNWUUUBZYv+n27STsJ7oDOHJgfF0bNKLMJF" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/css/all.min.css"
        integrity="sha256-46r060N2LrChLLb5zowXQ72/iKKNiw/lAmygmHExk/o=" crossorigin="anonymous" />


    <!--LINEAR ICONS-->
    <link rel="stylesheet" href="https://cdn.linearicons.com/free/1.0.0/icon-font.min.css">

    <!-- box icon -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">


    <!--GOOGLE FONTS-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;900&display=swap"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Source+Serif+Pro:wght@400;600;700&display=swap"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp"
        rel="stylesheet">


    <!--INTL TEL INPUT-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.3/js/intlTelInput.min.js"
        integrity="sha512-kkBkPRO6dSkCJDPNpW4Bb/1Z585gN++HKcIpClQW9IYI+4gk4yPC+eaE3CSQp3Ex+48NvzUvqmroZtR4gZnt4g=="
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.3/css/intlTelInput.min.css"
        integrity="sha512-yye/u0ehQsrVrfSd6biT17t39Rg9kNc+vENcCXZuMz2a+LWFGvXUnYuWUW6pbfYj1jcBb/C39UZw2ciQvwDDvg=="
        crossorigin="anonymous" />

    <!--CUSTOM STYLE-->
    <link rel="stylesheet" href="{% static 'authentication/css/custom_calendar.css' %}" />
    <link rel="stylesheet" href="{% static 'authentication/css/hide-show.css' %}" />
    <!-- AOS -->
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <!-- AOS script-->
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        setTimeout(function () { AOS.init({once:'true'}); }, 1000);
    </script>


    {% endblock css %}

    <style>
        .alert {
            left: 0;
            margin: auto;
            position: absolute;
            right: 0;
            text-align: center;
            top: 1em;
            width: 30%;
            z-index: 1;
            /* display: inline-block; */
        }
    </style>

    <script type="text/javascript">
        $(document).ready(function () {
            $( '.sidebar' ).show();
            $('.menu-btn').click(function () {
                $('.sidebar').show();
            });

            $('.close-btn').click(function () {
                $('.sidebar').hide();
            });

            //CLOSE ALERT
            $('.alert-close-btn').click(function () {
                $('.alert-custom').removeClass('alert-container');
            });

            //ADD NEW NOTES
            $('.new_note-btn').click(function () {
                $('.alert-custom').removeClass('alert-container');
                $('#add_new_note').addClass('alert-container');
            });

            //EDIT BUTTON
            $('.edit-btn').click(function () {
                $('.alert-custom').removeClass('alert-container');
                $('#edit_new_note').addClass('alert-container');
            });

            //SHOW NOTE CONTENT
            $('.note_list').click(function () {
                $('.alert-custom').removeClass('alert-container');
                $('#alert_note').addClass('alert-container');
            });


        });

    </script>

</head>
    <body class="dark">
        {% include "core/partials/messages.html" %}
        <!--SIDEBAR-->
        {% include "guests/partials/guest_side_nav.html" with active=active %}
        <div class="d-flex justify-content-between flex-column vh-100 ">
            <div class="main-content dashboard-bg float-left pb-0 px-3 pt-3 px-md-5 pt-md-5 w-100" 
            {% if title in 'Your Profile, Security Settings' %}
            style="background-position:top right"
            {% endif %}>
                <!--HEADER-->
                <div class="container-fluid mb-5">
                    <div class="row row-cols-2 heading">
                        <div class="col">
    
                            <a href="javascript:void(0);" class="menu-btn"><i class="fal fa-bars"></i></a>
                            <h2 class="h2 m-0 heading-title txt-color-gold">{{title}}</h2>
                            <span class="txt-color-white fs-16">Welcome, {{ user.first_name }} {{ user.last_name }}!</span>
                        </div>
                        <div class="col">
                            <div class="float-right d-inline-flex">
                                <div class="d-flex mr-3">
                                </div>
                                <div class="profile d-inline-flex align-items-center">
                                    <img src={% static 'core/img/form-sep-img.svg'%} class="mr-2"/>
                                    <div class="profile-thumb">
                                        <a href="{% url 'guests:profile' %}">
                                        {% if user.profile_picture %}
                                            <img id="nav-profile" src="{{user.profile_picture.url}}" alt="user profile thumbnail">
                                        {% else %}
                                            <img id="nav-profile" src="{% static 'guests/img/account_profile.svg' %}" alt="user profile thumbnail">
                                        {% endif %}
                                        </a>
                                    </div>
        
                                    <div class="profile-user d-flex">
                                        <span class="user-fullname">{{ user.first_name }} {{ user.last_name }}
                                            <small class="d-table txt-color-gold ff-open-sans">
                                                {% if guest.is_principal %}
                                                Principal
                                                {% else %}
                                                Guest
                                                {% endif %}
                                            </small>
                                        </span>
                                        <span class="user-details-icon">
                                            <a href="javascript:void(0);" id="expand_menu">
                                                <span class="material-icons">
                                                    expand_more
                                                </span>
                                            </a>
        
                                            <div class="drop-menu bg-color-gray-90">
                                                <a class="border-bottom-dark-gray-80-2 txt-color-gray py-3 "
                                                    href="{% url 'guests:profile' %}">Your Profile</a>
                                                <a class="border-bottom-dark-gray-80-2 txt-color-gray py-3 "
                                                    href="{% url 'guests:settings_change_password' %}">Security Settings</a>
                                                <a class=" txt-color-magenta py-3 " href="{% url 'guests:logout' %}">Logout</a>
                                            </div>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        {% block content %}
        {% endblock content %}
        </div>
        {% include "guests/partials/footer.html" %}
    </div>
</body>


{% block js %}
<script>
    $( '#expand_menu' ).click( function () {
        $( '.drop-menu' ).toggle();
    } );
    $("#notificationIcon").click(function () {
        if ($('#notificationIcon').is('.active')) {
            $.ajax({
                url: "{% url 'admins:seen_notifications' %}",
                type: "POST",
                data: { csrfmiddlewaretoken: "{{ csrf_token }}" },
                success: function () {
                    $('#notificationIcon').toggleClass('active');
                },
                error: function () {
                console.log("error")
                },
            })
            }
        })

</script>
    <!--JQUERY-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>

    <!--CALENDAR-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.0.1/fullcalendar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

    <!--BOOTSTRAP-->
    <script src="{% static 'authentication/js/jquery.min.js'%}"></script>
    <script src="{% static 'authentication/js/popper.min.js' %}"></script>
    <script src="{% static 'authentication/js/bootstrap.min.js' %}"></script>

    <!--DATE & TIME PICKER-->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/js/tempusdominus-bootstrap-4.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js" integrity="sha512-T/tUfKSV1bihCnd+MxKD0Hm1uBBroVYBOYSk1knyvQ9VyZJpc/ALb4P0r6ubwVPSGB2GvjeoMAJJImBG12TiaQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
    <!-- AOS -->
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <!-- AOS script-->
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
{% endblock js %}


</html>