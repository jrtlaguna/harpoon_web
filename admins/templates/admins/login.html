{% extends "authentication/base.html" %}
{% load crispy_forms_tags %}
{% load static %}

{% block title %}Admin Login{% endblock %}

{% block content %}
    <div class="container-fluid">
        <div class="row">
            <!--LOGIN-->
            <div class="col-lg-4 col-xl-3 col-md-5 col-12  login-container px-5">
                <div class="col-12 p-lg-4">
                    <a href="{% url 'admins:dashboard' %}">
                        <img src="{% static 'authentication/img/logo-sol.svg' %}" alt="Harpoon Logo" class="img-fluid">
                    </a>
                </div>

                {% include "core/partials/messages.html" %}

                <div class="form-register">
                    <h3 class="form-title">Admin Sign In</h3>
                    <small class="form-short-description">Sign in here to manage your vessel and bookings.</small>
                </div>

                {% crispy form %}
                <div class="form-group font-weight-bold text-center mt-0 pt-0">
                    <a href="{% url 'admins:forgot_password' %}" class="CTA-link">Forgot Password?</a>
                </div>

                <div class="form-group font-weight-bold text-center pt-0">
                    <a href="{% url 'admins:register' %}" class="CTA-link">Register Now</a>
                </div>
                <div class="form-group font-weight-bold text-center pt-0">
                    <a href="{% url 'guests:login' %}" class="CTA-link">Login as Guest?</a>
                </div>
            </div>

            <!--BANNER-->
            <div class="col-lg-8 col-xl-9 col-md-7  col-12 login-banner d-none d-md-block" style="background-image: url({% static 'authentication/img/bg-new-3.jpg' %});"></div>
        </div>
    </div>
{% endblock %}

{% block js %}
    {{ block.super }}
    <script src="{% static 'charter/js/custom-script.js' %}"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            $('.show_pass-container').hide();
        })
    </script>

    <script>
        const showHIddenInput = (inputOverlay, inputPass, inputIcon) => {
        const overlay = document.getElementById(inputOverlay),
            input = document.getElementById(inputPass),
            iconEye = document.getElementById(inputIcon)

            iconEye.addEventListener('click', () =>{
                //Change password to text
                if(input.type === 'password'){
                    // switch to text
                    input.type = 'text'

                    // change icon
                    iconEye.classList.add('bx-show')
                }else {
                    // change to password
                    input.type = 'password'

                    //remove icon
                    iconEye.classList.remove('bx-show')
                }
                //toggle the overlay
                overlay.classList.toggle ('overlay-content')
            })
        }

        showHIddenInput('input-overlay','input-pass','input-icon') 
    </script>
    
{% endblock %}